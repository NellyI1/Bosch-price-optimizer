# Bosch-price-optimizer

Pricing Optimization to simulate Bosch Corporation price prediction and optimization.
This project is a Flask-based web service that predicts optimal product prices using a machine learning model trained on Bosch sales data (using a subset of Amazon sales data downloaded from Kaggle). It provides REST API endpoints to predict prices and suggest products, enabling businesses to optimize pricing strategies.


# Live Demo
The application is deployed on [Render](https://render.com/), a cloud platform for hosting web applications. 


## Features

REST API endpoints for:

  * Predicting optimal prices for individual products
  * Batch price prediction with downloadable CSV results
  * Suggesting products based on input features

Uses a pre-trained XGBoost model loaded with `joblib`
Flask web server with production readiness via Gunicorn
Easily extensible for new datasets, models, or endpoints


## Installation and Setup

### Prerequisites
Python 3.8 or higher installed
 `pip` package manager

### Steps

1. Clone the repository from GitHub to your local machine.

2. Install dependencies by running `pip install -r requirements.txt`. This installs all necessary Python packages including Flask and XGBoost.

3. Run the Flask server locally by executing the main application script. This starts the server at `http://127.0.0.1:5000`.


## How to Use the API

Predict Optimal Price for a Single Product

* The `/predict` endpoint expects a POST request with product features in JSON format.
* Product features include numeric fields such as number of stars, reviews, category (as a numeric code), bestseller status (true or false), recent sales, and others.
* The server processes the input, feeds it to the pre-trained machine learning model, and returns the predicted optimal price in JSON.
* Input JSON must follow correct syntax: property names enclosed in double quotes, no comments, and proper data types (numbers or booleans).

2. Batch Price Prediction and CSV Download

* The `/predict_batch` endpoint handles batch requests and returns a CSV file with predicted prices for multiple products.
* This endpoint is accessed with a GET request.
* You can specify the file path on your local machine to save the downloaded CSV, helping you keep predictions organized.

3. Suggest Products Based on Features

* The `/suggest_products` endpoint returns a list of product suggestions with attributes such as price, stars, reviews, and product IDs.
* Gotten via a GET request, this is useful for building recommendation features.

## Testing the API with `curl`

You can test all endpoints using `curl`, a command-line tool that sends HTTP requests.

* For POST requests (like `/predict`), send a JSON payload with the product data.
* For GET requests (`/predict_batch` and `/suggest_products`), retrieve responses directly or save files like CSVs locally.
* Use tools like `jq` to format JSON responses in the terminal for easier reading.
* Organizing batch prediction CSV files into a specific folder (e.g., `final_projects`) helps maintain project structure and avoid clutter.


## Explanation of the Workflow and Logic

* When the Flask server starts, it loads the pre-trained XGBoost model into memory.
* Incoming requests with product feature data are checked and formatted as needed by the model.
* The model predicts prices based on learned patterns from the training data.
* Single predictions return a JSON response with the predicted price.
* Batch predictions produce downloadable CSV files with multiple predictions.
* Suggestions are generated by analyzing features and returning relevant product recommendations.
* Proper JSON formatting and numeric feature encoding are essential for successful prediction.


## Common Issues and How to Fix Them

JSON Formatting Errors: Make sure all keys and string values in JSON are inside double quotes. Donâ€™t put comments or extra commas in JSON.

Wrong Data Types: The model expects numbers for most fields and `true` or `false` for boolean fields. Sending strings when numbers are expected will cause errors.

File Saving Issues: When downloading CSV files, save them to a folder that already exists, or create the folder first.

Shell Script Error: Run scripts from the right folder and make sure they have permission to run.


## License

This project is open and free to use for anyone.

## Summary

This project shows how machine learning models can be put into a web API to help businesses predict the best prices. The API is simple to use, and testing with tools like `curl` makes it easy to check if everything works. New features or models can be added to improve it further.

